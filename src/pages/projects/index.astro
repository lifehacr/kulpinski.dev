---
import { getCollection } from "astro:content"
import BaseLayout from "~/layouts/BaseLayout.astro"
import ProjectList from "~/components/ProjectList.astro"
const allProjects = await getCollection("projects")

// Sort projects by date in descending order (newest first)
const sortedProjects = allProjects.sort(
  (a, b) => new Date(b.data.year).valueOf() - new Date(a.data.year).valueOf()
)

const title = "Recent Projects"
---

<BaseLayout title={title}>
  <ProjectList title={title} projects={sortedProjects} />
</BaseLayout>
