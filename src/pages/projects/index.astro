---
import { getCollection } from "astro:content"
import BaseLayout from "~/layouts/BaseLayout.astro"
import ProjectList from "~/components/ProjectList.astro"
const allProjects = await getCollection("projects")

// Sort projects by date in descending order (newest first)
const sortedProjects = allProjects.sort(
  (a, b) => new Date(b.data.year).valueOf() - new Date(a.data.year).valueOf()
)

const title = "Recent Projects"
const description =
  "Some of my recent projects. I'm always working on something new, so this list is always changing. If you're interested in seeing more, check out my Twitter profile."
---

<BaseLayout title={title} description={description}>
  <ProjectList title={title} description={description} projects={sortedProjects} />
</BaseLayout>
